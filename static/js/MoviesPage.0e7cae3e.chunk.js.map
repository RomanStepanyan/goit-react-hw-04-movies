{"version":3,"sources":["Components/Api/Api.js","Components/MoviesPage/MoviesPage.module.css","Components/MoviesPage/MoviesPage.js"],"names":["API_KEY","getPopularMovies","a","page","axios","get","res","console","log","data","getSearchedMovies","keyWord","getMovieDetails","movie_id","getMovieCredits","getMoviesReviews","defaults","baseURL","module","exports","SearchMoviesPage","useLocation","state","pathname","useState","setKeyWord","searchedMovies","setSearchedMovies","url","useRouteMatch","useEffect","then","className","s","form","onSubmit","event","preventDefault","type","placeholder","name","value","input","onChange","target","results","map","movie","to","id","original_title"],"mappings":"qWACMA,EAAU,mCAKT,SAAeC,IAAtB,+B,4CAAO,0CAAAC,EAAA,6DAAgCC,EAAhC,+BAAuC,EAAvC,SACaC,IAAMC,IAAN,oCACaL,EADb,iBAC6BG,IAF1C,cACCG,EADD,OAILC,QAAQC,IAAIF,EAAIG,MAJX,kBAKEH,EAAIG,MALN,4C,sBAQA,SAAeC,EAAtB,kC,4CAAO,WAAiCC,GAAjC,6BAAAT,EAAA,6DAA0CC,EAA1C,+BAAiD,EAAjD,SACaC,IAAMC,IAAN,gCACSL,EADT,kBAC0BW,EAD1B,gCACyDR,EADzD,yBADb,cACCG,EADD,yBAIEA,EAAIG,MAJN,4C,sBAOA,SAAeG,EAAtB,kC,4CAAO,WAA+BC,GAA/B,eAAAX,EAAA,sEACaE,IAAMC,IAAN,iBACNQ,EADM,oBACcb,EADd,oBADb,cACCM,EADD,yBAIEA,EAAIG,MAJN,4C,sBAOA,SAAeK,EAAtB,kC,4CAAO,WAA+BD,GAA/B,eAAAX,EAAA,sEACaE,IAAMC,IAAN,iBACNQ,EADM,4BACsBb,EADtB,oBADb,cACCM,EADD,yBAIEA,EAAIG,MAJN,4C,sBAOA,SAAeM,EAAtB,kC,4CAAO,WAAgCF,GAAhC,6BAAAX,EAAA,6DAA0CC,EAA1C,+BAAiD,EAAjD,SACaC,IAAMC,IAAN,iBACNQ,EADM,4BACsBb,EADtB,gCACqDG,IAFlE,cACCG,EADD,yBAIEA,EAAIG,MAJN,4C,sBA/BPL,IAAMY,SAASC,QAFE,gC,mBCDjBC,EAAOC,QAAU,CAAC,KAAO,yBAAyB,MAAQ,4B,wGCwD3CC,UAnDU,WAAO,IAAD,EACDC,cAAVC,GADW,EACrBC,SADqB,EACXD,OADW,EAECE,oBAAc,OAALF,QAAK,IAALA,OAAA,EAAAA,EAAOX,UAAW,IAF5B,mBAEtBA,EAFsB,KAEbc,EAFa,OAGeD,oBACrC,OAALF,QAAK,IAALA,OAAA,EAAAA,EAAOI,iBAAkB,MAJE,mBAGtBA,EAHsB,KAGNC,EAHM,KAMrBC,EAAQC,cAARD,IAiBR,OALAE,qBAAU,YACJ,OAACR,QAAD,IAACA,OAAD,EAACA,EAAOX,UACZD,YAAiB,OAACY,QAAD,IAACA,OAAD,EAACA,EAAOX,SAASoB,KAAKJ,KACtC,QAACL,QAAD,IAACA,OAAD,EAACA,EAAOX,UAGT,qCACE,uBAAMqB,UAAWC,IAAEC,KAAMC,SAZZ,SAAAC,GACfA,EAAMC,iBACN3B,YAAkBC,GAASoB,KAAKJ,IAU9B,UACE,uBACEW,KAAK,OACLC,YAAY,cACZC,KAAK,UACLC,MAAO9B,EACPqB,UAAWC,IAAES,MACbC,SAxBS,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAClBnB,EAAWmB,EAAOH,OAClBlC,QAAQC,IAAIG,MAwBR,wBAAQ2B,KAAK,SAASN,UAAU,sBAAhC,uBAIF,6BACGN,GACCA,EAAemB,QAAQC,KAAI,SAAAC,GAAK,OAC9B,6BACE,cAAC,IAAD,CAAMC,GAAI,CAAEzB,SAAS,GAAD,OAAKK,EAAL,YAAYmB,EAAME,IAAM3B,MAAO,CAAEX,YAArD,SACGoC,EAAMG,kBAFFH,EAAME","file":"static/js/MoviesPage.0e7cae3e.chunk.js","sourcesContent":["import axios from 'axios';\nconst API_KEY = '9188dc7af85ddfe1314f5060338d54ff';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getPopularMovies(page = 1) {\n  const res = await axios.get(\n    `/trending/all/day?api_key=${API_KEY}&page=${page}`,\n  );\n  console.log(res.data);\n  return res.data;\n}\n\nexport async function getSearchedMovies(keyWord, page = 1) {\n  const res = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${keyWord}&language=en-US&page=${page}&include_adult=false`,\n  );\n  return res.data;\n}\n\nexport async function getMovieDetails(movie_id) {\n  const res = await axios.get(\n    `/movie/${movie_id}?api_key=${API_KEY}&language=en-US`,\n  );\n  return res.data;\n}\n\nexport async function getMovieCredits(movie_id) {\n  const res = await axios.get(\n    `/movie/${movie_id}/credits?api_key=${API_KEY}&language=en-US`,\n  );\n  return res.data;\n}\n\nexport async function getMoviesReviews(movie_id, page = 1) {\n  const res = await axios.get(\n    `/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`,\n  );\n  return res.data;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MoviesPage_form__2i0Nx\",\"input\":\"MoviesPage_input__2jWUL\"};","import { Link, useRouteMatch, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport { getSearchedMovies } from '../Api/Api';\nimport s from './MoviesPage.module.css';\n\nconst SearchMoviesPage = () => {\n  const { pathname, state } = useLocation();\n  const [keyWord, setKeyWord] = useState(state?.keyWord || '');\n  const [searchedMovies, setSearchedMovies] = useState(\n    state?.searchedMovies || null,\n  );\n  const { url } = useRouteMatch();\n\n  const onChange = ({ target }) => {\n    setKeyWord(target.value);\n    console.log(keyWord);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    getSearchedMovies(keyWord).then(setSearchedMovies);\n  };\n\n  useEffect(() => {\n    if (!state?.keyWord) return;\n    getSearchedMovies(state?.keyWord).then(setSearchedMovies);\n  }, [state?.keyWord]);\n\n  return (\n    <>\n      <form className={s.form} onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Find movies\"\n          name=\"keyWord\"\n          value={keyWord}\n          className={s.input}\n          onChange={onChange}\n        />\n        <button type=\"submit\" className=\"input_submit_button\">\n          Search\n        </button>\n      </form>\n      <ul>\n        {searchedMovies &&\n          searchedMovies.results.map(movie => (\n            <li key={movie.id}>\n              <Link to={{ pathname: `${url}/${movie.id}`, state: { keyWord } }}>\n                {movie.original_title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n};\nexport default SearchMoviesPage;\n"],"sourceRoot":""}